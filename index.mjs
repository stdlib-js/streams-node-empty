// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-inherit@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-property@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-next-tick@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";function d(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})})),t}var m="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function c(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}var f=c,h=p;function b(e){if(f===setTimeout)return setTimeout(e,0);if((f===c||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}"function"==typeof m.setTimeout&&(f=setTimeout),"function"==typeof m.clearTimeout&&(h=clearTimeout);var j,v=[],g=!1,w=-1;function y(){g&&j&&(g=!1,j.length?v=j.concat(v):w=-1,v.length&&x())}function x(){if(!g){var e=b(y);g=!0;for(var t=v.length;t;){for(j=v,v=[];++w<t;)j&&j[w].run();w=-1,t=v.length}j=null,g=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===p||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(e)}}function T(e,t){this.fun=e,this.array=t}T.prototype.run=function(){this.fun.apply(null,this.array)};function _(){}var M=_,E=_,O=_,q=_,D=_,P=_,R=_;var A=m.performance||{},N=A.now||A.mozNow||A.msNow||A.oNow||A.webkitNow||function(){return(new Date).getTime()};var S=new Date;var k={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new T(e,t)),1!==v.length||g||b(x)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:M,addListener:E,once:O,off:q,removeListener:D,removeAllListeners:P,emit:R,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*N.call(A),r=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(r-=e[0],(o-=e[1])<0&&(r--,o+=1e9)),[r,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-S)/1e3}},L=require("stream");"disable"===k.env.READABLE_STREAM&&L?(module.exports=L,exports=module.exports=L.Readable,exports.Readable=L.Readable,exports.Writable=L.Writable,exports.Duplex=L.Duplex,exports.Transform=L.Transform,exports.PassThrough=L.PassThrough,exports.Stream=L):(exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=L||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"));var z=d(Object.freeze({__proto__:null})),W={objectMode:!1},C=i,J=a,B=l.isPrimitive,V=u;var F=function(e,t){return C(t)?J(t,"objectMode")&&(e.objectMode=t.objectMode,!B(e.objectMode))?new TypeError(V("invalid option. `%s` option must be a boolean. Option: `%s`.","objectMode",e.objectMode)):null:new TypeError(V("invalid argument. Options argument must be an object. Value: `%s`.",t))};module.exports=void 0!==k&&"renderer"===k.type?require("./browser.js"):require("./node.js");var G=d(Object.freeze({__proto__:null}))("empty-stream"),H=z.Readable,I=t,K=r,Q=n,U=e,X=s,Y=W,Z=F,$=G;function ee(e){var t,r;if(!(this instanceof ee))return arguments.length>0?new ee(e):new ee;if(t=K(Y),arguments.length>0&&(r=Z(t,e)))throw r;return $("Creating a readable stream configured with the following options: %s.",JSON.stringify(t)),H.call(this,t),Q(this,"_destroyed",!1),this}o(ee,H),U(ee.prototype,"_read",(function(){this.push(null)})),U(ee.prototype,"destroy",(function(e){var t;return this._destroyed?($("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,X((function(){e&&($("Stream was destroyed due to an error. Error: %s.",I(e)?e.message:JSON.stringify(e)),t.emit("error",e));$("Closing the stream..."),t.emit("close")})),this)}));var te=ee;var re=r,oe=ee;var ne=e,se=ee,ie=function(){return new te({objectMode:!0})},ae=function(e){var t;return t=arguments.length>0?re(e,1):{},r;function r(){return new oe(t)}};ne(se,"objectMode",ie),ne(se,"factory",ae);var le=se;export{le as default,ae as factory,ie as objectMode};
//# sourceMappingURL=index.mjs.map
